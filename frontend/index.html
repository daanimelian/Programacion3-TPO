<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AdoptMe - Sistema de Adopci√≥n de Perros</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1>üêï AdoptMe</h1>
                <p class="subtitle">Sistema Inteligente de Adopci√≥n de Perros</p>
                <div class="connection-status" id="connectionStatus">
                    <span class="status-indicator"></span>
                    <span class="status-text">Conectando...</span>
                </div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="nav-tabs">
            <button class="tab-button active" data-tab="dashboard">Dashboard</button>
            <button class="tab-button" data-tab="graph">Rutas & Grafos</button>
            <button class="tab-button" data-tab="network">Redes & MST</button>
            <button class="tab-button" data-tab="matching">Matching</button>
            <button class="tab-button" data-tab="sorting">Ordenamiento</button>
            <button class="tab-button" data-tab="transport">Transporte</button>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Tab -->
            <section id="dashboard" class="tab-content active">
                <div class="welcome-section">
                    <h2>Bienvenido a AdoptMe</h2>
                    <p>Sistema de gesti√≥n y optimizaci√≥n de adopciones de perros utilizando algoritmos avanzados.</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Refugios</h3>
                        <p class="stat-number" id="statsRefugios">-</p>
                        <p class="stat-label">Total de refugios</p>
                    </div>
                    <div class="stat-card">
                        <h3>Perros</h3>
                        <p class="stat-number" id="statsPerros">-</p>
                        <p class="stat-label">Disponibles para adopci√≥n</p>
                    </div>
                    <div class="stat-card">
                        <h3>Adoptantes</h3>
                        <p class="stat-number" id="statsAdoptantes">-</p>
                        <p class="stat-label">Personas registradas</p>
                    </div>
                </div>

                <div class="data-display">
                    <div class="data-section">
                        <h3>Refugios Disponibles</h3>
                        <div id="refugiosList" class="data-list"></div>
                    </div>
                    <div class="data-section">
                        <h3>Perros Disponibles</h3>
                        <div id="perrosList" class="data-list"></div>
                    </div>
                    <div class="data-section">
                        <h3>Adoptantes Registrados</h3>
                        <div id="adoptantesList" class="data-list"></div>
                    </div>
                </div>
            </section>

            <!-- Graph Algorithms Tab -->
            <section id="graph" class="tab-content">
                <h2>Algoritmos de Rutas y Grafos</h2>

                <!-- BFS/DFS -->
                <div class="algorithm-section">
                    <h3>üîç BFS / DFS - B√∫squeda de Caminos</h3>
                    <p>Encuentra si existe un camino entre dos refugios usando BFS (anchura) o DFS (profundidad).</p>
                    <div class="input-group">
                        <label>Refugio Origen:</label>
                        <select id="bfsFrom">
                            <option value="A">Refugio A</option>
                            <option value="B">Refugio B</option>
                            <option value="C">Refugio C</option>
                            <option value="H">Hub Central (H)</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Refugio Destino:</label>
                        <select id="bfsTo">
                            <option value="A">Refugio A</option>
                            <option value="B">Refugio B</option>
                            <option value="C" selected>Refugio C</option>
                            <option value="H">Hub Central (H)</option>
                        </select>
                    </div>
                    <div class="button-group">
                        <button class="btn btn-primary" onclick="executeBFS()">Ejecutar BFS</button>
                        <button class="btn btn-primary" onclick="executeDFS()">Ejecutar DFS</button>
                    </div>
                    <div id="bfsResult" class="result-box"></div>
                </div>

                <!-- Dijkstra -->
                <div class="algorithm-section">
                    <h3>üìç Dijkstra - Camino M√°s Corto</h3>
                    <p>Calcula el camino m√°s corto entre dos refugios considerando las distancias.</p>
                    <div class="input-group">
                        <label>Refugio Origen:</label>
                        <select id="dijkstraFrom">
                            <option value="A" selected>Refugio A</option>
                            <option value="B">Refugio B</option>
                            <option value="C">Refugio C</option>
                            <option value="H">Hub Central (H)</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Refugio Destino:</label>
                        <select id="dijkstraTo">
                            <option value="A">Refugio A</option>
                            <option value="B">Refugio B</option>
                            <option value="C" selected>Refugio C</option>
                            <option value="H">Hub Central (H)</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" onclick="executeDijkstra()">Calcular Ruta √ìptima</button>
                    <div id="dijkstraResult" class="result-box"></div>
                </div>

                <!-- TSP -->
                <div class="algorithm-section">
                    <h3>üó∫Ô∏è TSP Branch & Bound - Ruta √ìptima</h3>
                    <p>Encuentra la ruta m√°s corta que visita todos los refugios seleccionados (Problema del Viajante).</p>
                    <div class="input-group">
                        <label>Selecciona Refugios a Visitar:</label>
                        <div class="checkbox-group">
                            <label><input type="checkbox" name="tspNode" value="A" checked> Refugio A</label>
                            <label><input type="checkbox" name="tspNode" value="B" checked> Refugio B</label>
                            <label><input type="checkbox" name="tspNode" value="C" checked> Refugio C</label>
                            <label><input type="checkbox" name="tspNode" value="H"> Hub Central (H)</label>
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="executeTSP()">Calcular Ruta TSP</button>
                    <div id="tspResult" class="result-box"></div>
                </div>
            </section>

            <!-- Network Algorithms Tab -->
            <section id="network" class="tab-content">
                <h2>Algoritmos de Redes y MST</h2>

                <!-- Kruskal/Prim -->
                <div class="algorithm-section">
                    <h3>üå≥ MST - √Årbol de Expansi√≥n M√≠nima</h3>
                    <p>Calcula el √°rbol de expansi√≥n m√≠nima para conectar todos los refugios con la menor distancia total.</p>
                    <div class="button-group">
                        <button class="btn btn-primary" onclick="executeMST('kruskal')">Algoritmo de Kruskal</button>
                        <button class="btn btn-primary" onclick="executeMST('prim')">Algoritmo de Prim</button>
                    </div>
                    <div id="mstResult" class="result-box"></div>
                </div>
            </section>

            <!-- Matching Tab -->
            <section id="matching" class="tab-content">
                <h2>Algoritmos de Matching</h2>

                <!-- Cost & Score Calculation Explanation -->
                <div class="info-section">
                    <h3>üí∞ C√°lculo del Costo de Adopci√≥n</h3>
                    <div class="info-content">
                        <p><strong>El costo de cada adopci√≥n se calcula seg√∫n:</strong></p>
                        <ul>
                            <li><strong>Costo Base:</strong> $5,000</li>
                            <li><strong>Costo por Tama√±o:</strong>
                                <ul>
                                    <li>SMALL: +$2,000 (Total: $7,000)</li>
                                    <li>MEDIUM: +$4,000 (Total: $9,000)</li>
                                    <li>LARGE: +$6,000 (Total: $11,000)</li>
                                </ul>
                            </li>
                            <li><strong>Necesidades Especiales:</strong> +$5,000 adicionales</li>
                        </ul>
                        <p class="formula"><strong>F√≥rmula:</strong> Costo Total = Costo Base + Costo por Tama√±o + Necesidades Especiales</p>
                        <p class="example"><em>Ejemplo:</em> Un perro LARGE con necesidades especiales = $5,000 + $6,000 + $5,000 = <strong>$16,000</strong></p>
                    </div>

                    <h3>üéØ C√°lculo del Score de Compatibilidad</h3>
                    <div class="info-content">
                        <p><strong>El score de compatibilidad considera 4 factores (m√°ximo: 8.0 puntos):</strong></p>
                        <ol>
                            <li><strong>Compatibilidad con Ni√±os (peso: 3.0):</strong>
                                <br>+3.0 puntos si el adoptante tiene ni√±os Y el perro es bueno con ni√±os
                            </li>
                            <li><strong>Necesidad de Jard√≠n (peso: 2.0):</strong>
                                <br>+2.0 puntos si el adoptante tiene jard√≠n Y el perro es LARGE (requiere espacio)
                            </li>
                            <li><strong>Nivel de Energ√≠a (peso: 2.0):</strong>
                                <br>Preferencia por energ√≠a moderada (5/10). Score = 2.0 √ó (1 - |energ√≠a - 5| / 5)
                                <ul>
                                    <li>LOW (2): +0.8 puntos</li>
                                    <li>MEDIUM (5): +2.0 puntos</li>
                                    <li>HIGH (8): +0.8 puntos</li>
                                </ul>
                            </li>
                            <li><strong>Tama√±o (peso: 1.0):</strong>
                                <br>Preferencia por perros peque√±os. Score = 1.0 √ó (3 - tama√±o) / 2
                                <ul>
                                    <li>SMALL: +1.0 puntos</li>
                                    <li>MEDIUM: +0.5 puntos</li>
                                    <li>LARGE: +0.0 puntos</li>
                                </ul>
                            </li>
                        </ol>
                        <p class="example"><em>Ejemplo:</em> Adoptante con ni√±os y jard√≠n + Perro SMALL, MEDIUM energy, bueno con ni√±os = 3.0 + 0.0 + 2.0 + 1.0 = <strong>6.0 puntos</strong></p>
                    </div>
                </div>

                <!-- Greedy -->
                <div class="algorithm-section">
                    <h3>üéØ Greedy - Selecci√≥n Voraz</h3>
                    <p>Selecciona los mejores perros para un adoptante usando un algoritmo voraz basado en compatibilidad.</p>
                    <div class="input-group">
                        <label>Selecciona Adoptante:</label>
                        <select id="greedyAdopter">
                            <option value="P1">Camila (Presupuesto: $50000, Con Patio, Con Ni√±os)</option>
                            <option value="P2">Lucas (Presupuesto: $30000, Sin Patio, Sin Ni√±os)</option>
                            <option value="P3">Daniela (Presupuesto: $80000, Con Patio, Sin Ni√±os)</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" onclick="executeGreedy()">Ejecutar Greedy</button>
                    <div id="greedyResult" class="result-box"></div>
                </div>

                <!-- Backtracking -->
                <div class="algorithm-section">
                    <h3>üîÑ Backtracking - Asignaci√≥n con Restricciones</h3>
                    <p>Asigna m√∫ltiples perros a m√∫ltiples adoptantes respetando todas las restricciones (presupuesto, capacidad, compatibilidad).</p>
                    <button class="btn btn-primary" onclick="executeBacktracking()">Ejecutar Backtracking</button>
                    <div id="backtrackingResult" class="result-box"></div>
                </div>
            </section>

            <!-- Sorting Tab -->
            <section id="sorting" class="tab-content">
                <h2>Algoritmos de Ordenamiento</h2>

                <div class="algorithm-section">
                    <h3>üìä Ordenar Perros</h3>
                    <p>Ordena la lista de perros seg√∫n diferentes criterios usando MergeSort o QuickSort.</p>
                    <div class="input-group">
                        <label>Criterio de Ordenamiento:</label>
                        <select id="sortCriteria">
                            <option value="priority">Prioridad</option>
                            <option value="age">Edad</option>
                            <option value="weight">Peso</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Algoritmo:</label>
                        <select id="sortAlgorithm">
                            <option value="mergesort">MergeSort (TimSort)</option>
                            <option value="quicksort">QuickSort</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" onclick="executeSort()">Ordenar Perros</button>
                    <div id="sortResult" class="result-box"></div>
                </div>
            </section>

            <!-- Transport Tab -->
            <section id="transport" class="tab-content">
                <h2>Optimizaci√≥n de Transporte</h2>

                <div class="algorithm-section">
                    <h3>üì¶ Knapsack - Problema de la Mochila</h3>
                    <p>Optimiza el transporte de perros maximizando la prioridad total dentro de la capacidad del veh√≠culo (Programaci√≥n Din√°mica).</p>
                    <div class="input-group">
                        <label>Capacidad del Veh√≠culo (kg):</label>
                        <input type="number" id="vehicleCapacity" value="50" min="10" max="200">
                    </div>
                    <button class="btn btn-primary" onclick="executeKnapsack()">Optimizar Transporte</button>
                    <div id="knapsackResult" class="result-box"></div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>AdoptMe - Programaci√≥n III - UADE ¬© 2024</p>
        </footer>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="spinner"></div>
        <p>Procesando...</p>
    </div>

    <script src="app.js"></script>
</body>
</html>
